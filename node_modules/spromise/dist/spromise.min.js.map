{"version":3,"sources":["spromise.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","spromise","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"All","values","checkPending","remaining","promise","resolve","context","resolutions","index","arguments","processQueue","item","then","reject","Promise","defer","async","./async","./promise",2,"Async","cb","nextTick","delay","callback","timeout","args","setTimeout","apply","bind","process","setImmediate",3,"resolver","stateManager","StateManager","target","onResolved","onRejected","transition","states","resolved","rejected","always","done","catch","fail","notify","state","constructor","options","pending","value","Resolution","printDebug","ex","Factory","debug","console","error","stack","log","strStates","prototype","enqueue","isPending","isResolved","isRejected","ms","_self","TaskAction","TaskManager","asyncTask","queue","push","asyncQueue","handler","runHandler","finalize","undefined","input","resolution","TypeError","runThenable","thenable","_asyncQueue","task","taskRunner","_runTask","shift","Array","slice",4,"Race","iterable","_resolve","_done","_reject",5,"when","all","race","polyfill","force","hasOwnProperty","./all","./race","./when",6,"When","results","reason"],"mappings":"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","file":"spromise.min.js"}